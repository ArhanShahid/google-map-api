<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>plotting routes</title>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
    <script type="text/javascript">

        var markers = [];
        markers.push(
            { lat: 24.886747933454497, lng: 67.13865280151367 },
            { lat: 24.887059375335962, lng: 67.1290397644043 },
            { lat: 24.874445351033874, lng: 67.09659576416016 }
            );
        $(window).load(function () {
            initMap();
        });
       
        function initMap() {
            var directionsService = new google.maps.DirectionsService;
            var directionsDisplay = new google.maps.DirectionsRenderer;
            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 6,
                center: { lat: 24.886747933454497, lng: 67.13865280151367 }
            });
            directionsDisplay.setMap(map);

           
                calculateAndDisplayRoute(directionsService, directionsDisplay);
            
        }

        function calculateAndDisplayRoute(directionsService, directionsDisplay) {
            var waypts = [];
            var checkboxArray = document.getElementById('waypoints');
            for (var i = 0; i < markers.length; i++) {
               
                    waypts.push({
                        location: markers[i],
                        stopover: true
                    });
                
            }

            directionsService.route({
                origin: markers[0],
                destination: markers[markers.length-1],
                waypoints: waypts,
                optimizeWaypoints: true,
                travelMode: google.maps.TravelMode.DRIVING
            }, function (response, status) {
                if (status === google.maps.DirectionsStatus.OK) {
                    directionsDisplay.setDirections(response);
                    var route = response.routes[0];
                    
                } else {
                    window.alert('Directions request failed due to ' + status);
                }
            });
        }

    </script>
    <style type="text/css">
        #map {
            height: 500px;
            width: 600px;
            border: 1px solid #000;
        }
    </style>
</head>
<body>
<div id="map"></div>
</body>
</html>